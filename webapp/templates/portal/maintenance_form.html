{% extends "portal/base.html" %}

{% block title %}New Request{% endblock %}

{% block content %}
<div class="mb-6">
    <a href="/portal/maintenance" class="text-sm text-blue-600 hover:text-blue-500">&larr; Back to requests</a>
    <h1 class="text-xl font-bold text-gray-900 mt-2">Submit Maintenance Request</h1>
    <p class="text-sm text-gray-500 mt-1">Describe the issue and we'll take care of it.</p>
</div>

<form method="POST" action="/portal/maintenance/new" class="space-y-4">
    <div class="portal-card p-5 space-y-4">
        <!-- Title -->
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">What's the issue? *</label>
            <input type="text" name="title" required
                class="w-full rounded-xl border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm py-3"
                placeholder="e.g., Leaking kitchen faucet">
        </div>

        <!-- Category -->
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Category</label>
            <select name="category" class="w-full rounded-xl border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm py-3">
                {% for c in categories %}
                <option value="{{ c.value }}" {% if c.value == 'general' %}selected{% endif %}>{{ c.value.replace('_', ' ').title() }}</option>
                {% endfor %}
            </select>
        </div>

        <!-- Area -->
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Area / Room</label>
            <input type="text" name="unit_area"
                class="w-full rounded-xl border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm py-3"
                placeholder="e.g., Kitchen, Bathroom, Bedroom">
        </div>

        <!-- Description -->
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Description</label>
            <textarea name="description" rows="4"
                class="w-full rounded-xl border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm"
                placeholder="Provide more details about the issue..."></textarea>
        </div>
    </div>

    <button type="submit" class="w-full bg-blue-600 text-white rounded-xl py-3 font-medium hover:bg-blue-500 transition-colors">
        Submit Request
    </button>
</form>
{% endblock %}
